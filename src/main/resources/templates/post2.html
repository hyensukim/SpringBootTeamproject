<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Board List</title>
</head>
<body>

<h1>Board List</h1>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Content</th>
    </tr>
    </thead>

    <!-- 게시물 목록 출력 -->
    <tbody th:each="board : ${boards}">
    <tr onclick="location.href='/board/detail/' + [[${board.id}]]">
        <!-- 클릭 시 해당 게시물의 상세 페이지로 이동 -->

        <!-- 각 필드 값 출력 -->
        <td th:text="${board.id}"></td>
        <td th:text="${board.title}"></td>
        <td th:text="${board.content}"></td>

    </tr>

    </tbody>

</table>


<a href="/board/write">Write a new post!</a>

<!-- 이 코드는 onclick이벤트를 사용하여 해당 행이 클릭되면 상세 페이지로 이동하도록 설정되어 있습니다.
     여기서 [[${...}]] 문법은 Thymeleaf에서 JavaScript 내부에 변수를 삽입할 때 사용하는 문법입니다.
     /detail/{id} 형태의 URL을 생성하여 페이지가 리다이렉션 되도록 합니다. -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">
    $(document).ready(function(){
        $(".btn-delete").on("click", function(){
            var id = $(this).attr("data-id");
            if(confirm("Are you sure you want to delete this post?")){
                window.location.href = "/post/delete/" + id;
            }
        });
    });
</script>


</body>
</html>
